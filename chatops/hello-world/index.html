<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Writing your first Abbot skill | Abbot Docs </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Writing your first Abbot skill | Abbot Docs ">
    <meta name="generator" content="docfx 2.59.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Bungee+Hairline&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../templates/abbot/css/abbot.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <span class="navbar-brand abbot-logo">
                <a href="https://ab.bot/">
                <svg id="logo-light" width="77" height="14" viewbox="0 0 33 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4.46029 2.49502L3.78048 0.93825C3.69435 0.735062 3.59899 0.558767 3.49441 0.421317C3.3929 0.280879 3.1868 0.113548 2.78691 0.113548H1.82411C1.41807 0.113548 1.20889 0.277891 1.10431 0.415341C0.996645 0.558767 0.901287 0.732074 0.818233 0.935261L0.184564 2.50996C0.126119 2.66235 0.0799776 2.82371 0.049217 2.99104C0.0153803 3.15837 0 3.34363 0 3.54084V5.87749H0.713647V4.23407H3.93736V5.87749H4.65101V3.54084C4.65101 3.34363 4.63255 3.15837 4.60179 2.99104C4.56795 2.82968 4.52489 2.66534 4.46029 2.49502ZM1.82411 0.806775H2.78999C2.84228 0.806775 2.90688 0.812751 2.93149 0.84562C2.99916 0.941237 3.06376 1.06076 3.12836 1.21016L3.79894 2.74901C3.83893 2.86255 3.87276 2.98805 3.90045 3.11952C3.92506 3.24502 3.93736 3.38546 3.93736 3.53785H0.713647C0.713647 3.38546 0.725951 3.24502 0.750559 3.11952C0.778244 2.98805 0.812081 2.86255 0.848993 2.76096L1.47959 1.19522C1.53496 1.05777 1.59955 0.941237 1.66415 0.84562C1.67953 0.821716 1.74105 0.806775 1.82411 0.806775Z" fill="#ffffff"></path>
                  <path d="M11.6309 3.02091C11.5109 2.89243 11.3448 2.79083 11.1418 2.71912C11.1479 2.70717 11.1541 2.69522 11.1602 2.68028C11.2433 2.48605 11.2863 2.26793 11.2863 2.03785V1.42828C11.2863 1.26095 11.2648 1.10558 11.2279 0.959161C11.1818 0.788842 11.0925 0.636452 10.9664 0.507966C10.8403 0.37948 10.665 0.280874 10.4466 0.212149C10.2405 0.146412 9.99439 0.116531 9.69294 0.116531H7.38281V5.87749H10.3389C10.6465 5.87749 10.8926 5.8506 11.0925 5.79382C11.3109 5.73406 11.4863 5.64143 11.6093 5.52789C11.7385 5.40836 11.8277 5.25896 11.8769 5.08864C11.9169 4.94522 11.9354 4.78984 11.9354 4.6255V4.01295C11.9354 3.83366 11.9169 3.66334 11.8831 3.51095C11.8431 3.32271 11.7601 3.15836 11.6309 3.02091ZM10.5727 2.03785C10.5727 2.13048 10.5635 2.22311 10.545 2.30677C10.5358 2.35458 10.5112 2.39641 10.4712 2.43526C10.4404 2.46514 10.3727 2.51295 10.2374 2.55179C10.1113 2.59063 9.92672 2.60856 9.68986 2.60856H8.09646V0.80677H9.68986C10.2405 0.80677 10.385 0.92928 10.4158 0.965137C10.5204 1.08765 10.5727 1.24004 10.5727 1.4253V2.03785V2.03785ZM8.09646 3.30478H10.3481C10.8741 3.30478 11.0218 3.42131 11.0618 3.47211C11.1694 3.61255 11.2217 3.78585 11.2217 4.00996V4.62251C11.2217 4.80777 11.1756 4.94522 11.0802 5.04382C11.0587 5.06773 10.9141 5.18426 10.3389 5.18426H8.09646V3.30478Z" fill="#ffffff"></path>
                  <path d="M18.7666 3.02091C18.6466 2.89243 18.4805 2.79083 18.2775 2.71912C18.2837 2.70717 18.2898 2.69223 18.296 2.68028C18.379 2.48307 18.4221 2.26793 18.4221 2.03785V1.42828C18.4221 1.26394 18.4036 1.10856 18.3636 0.959161C18.3175 0.788842 18.2283 0.636452 18.0991 0.507966C17.973 0.37948 17.7976 0.280874 17.5792 0.212149C17.3762 0.146412 17.1271 0.116531 16.8256 0.116531H14.5186V5.87749H17.4747C17.7823 5.87749 18.0283 5.8506 18.2283 5.79382C18.4498 5.73107 18.6189 5.64442 18.7451 5.5249C18.8743 5.40538 18.9635 5.25597 19.0096 5.08864C19.0496 4.94522 19.0711 4.78984 19.0711 4.62251V4.00996C19.0711 3.83067 19.0527 3.66334 19.0188 3.50797C18.9788 3.32271 18.8927 3.15836 18.7666 3.02091ZM17.7084 2.03785C17.7084 2.13048 17.6992 2.22012 17.6807 2.30677C17.6715 2.35458 17.6469 2.39641 17.6069 2.43526C17.5762 2.46514 17.5085 2.50996 17.3731 2.55179C17.247 2.59063 17.0625 2.60856 16.8256 2.60856H15.2322V0.80677H16.8256C17.3762 0.80677 17.5208 0.92928 17.5516 0.965137C17.6561 1.09064 17.7084 1.24004 17.7084 1.4253V2.03785V2.03785ZM15.2322 3.30478H17.4839C18.0253 3.30478 18.1668 3.43326 18.1975 3.47211C18.3052 3.61255 18.3575 3.78585 18.3575 4.00996V4.62251C18.3575 4.80777 18.3113 4.94522 18.2129 5.04382C18.1914 5.06773 18.0499 5.18426 17.4716 5.18426H15.2291V3.30478H15.2322Z" fill="#ffffff"></path>
                  <path d="M23.8021 0C22.947 0 22.3687 0.143426 22.0334 0.433267C21.6919 0.729084 21.5166 1.11753 21.5166 1.58964V4.41036C21.5166 4.87948 21.6919 5.26793 22.0334 5.56673C22.3687 5.85956 22.95 6.00299 23.8021 6.00299C24.6542 6.00299 25.2356 5.86255 25.5801 5.56972C25.9308 5.2739 26.1092 4.88247 26.1092 4.41335V1.58964C26.1092 1.11753 25.9308 0.729084 25.5801 0.433267C25.2356 0.140438 24.6542 0 23.8021 0ZM23.8021 5.30677C22.9931 5.30677 22.6578 5.16633 22.5163 5.0498C22.3195 4.88546 22.2302 4.68227 22.2302 4.41036V1.58964C22.2302 1.32072 22.3256 1.11155 22.5163 0.950199C22.6578 0.833665 22.9931 0.693227 23.8021 0.693227C24.6111 0.693227 24.9556 0.833665 25.1002 0.953187C25.3002 1.11753 25.3955 1.32072 25.3955 1.58964V4.41036C25.3955 4.68227 25.3032 4.88247 25.1002 5.04681C24.9556 5.16633 24.6142 5.30677 23.8021 5.30677Z" fill="#ffffff"></path>
                  <path d="M28.251 0.113548V0.806775H30.2689V5.8745H30.9825V0.806775H33.0004V0.113548H28.251Z" fill="#ffffff"></path>
                </svg></a> <a href="/">Docs</a>
              </span>    </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="hello-world-guide">
<h1 id="writing-your-first-abbot-skill">Writing your first Abbot skill</h1>

<h2 id="hello-world-and-everyone-else">Hello, World (and everyone else!)</h2>
<p>Let's start by showing Abbot how to say hello. To do this, we'll use the <code>Bot</code> object (<a href="/help/reference">full reference here</a>) to respond to the channel, as well as to determine what text was entered.</p>
<h3 id="creating-skills">Creating Skills</h3>
<p>First, create a new skill (<a href="https://ab.bot/skills/create/csharp">C# skill</a>, <a href="https://ab.bot/skills/create/javascript">JavaScript</a>, <a href="https://ab.bot/skills/create/python">Python</a>). The name of the skill is how users will use it in chat. Name the skill <code>hello</code>. Abbot skills must be uniquely named, so if there is already a skill named <code>hello</code> you will need to choose another name.</p>
<p>The <code>Description</code> and <code>Usage</code> fields help other Abbot users in chat figure out how to use your skills. Fill in some descriptive text in those fields now.</p>
<h3 id="editing-code">Editing Code</h3>
<p>Abbot populates new skills with some default code that replies back with the passed in arguments. It should look something like:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S_tabid-cs" role="tab" aria-controls="tabpanel_bHGHmlrG6S_tabid-cs" data-tab="tabid-cs" tabindex="0" aria-selected="true">C#</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S_tabid-js" role="tab" aria-controls="tabpanel_bHGHmlrG6S_tabid-js" data-tab="tabid-js" tabindex="-1">JavaScript</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S_tabid-py" role="tab" aria-controls="tabpanel_bHGHmlrG6S_tabid-py" data-tab="tabid-py" tabindex="-1">Python</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S_tabid-cs" role="tabpanel" data-tab="tabid-cs">

<pre><code class="lang-cs">// Change the code below with the code for your skill! 
await Bot.ReplyAsync(&quot;Hello &quot; + Bot.Arguments);
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S_tabid-js" role="tabpanel" data-tab="tabid-js" aria-hidden="true" hidden="hidden">

<pre><code class="lang-javascript">module.exports = (async () =&gt; { // We modularize your code in order to run it.
  // Change the code below with the code for your skill! 
  bot.reply(&quot;Hello &quot; + bot.arguments);
})(); // Thanks for building with Abbot!
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S_tabid-py" role="tabpanel" data-tab="tabid-py" aria-hidden="true" hidden="hidden">

<pre><code class="lang-python"># Change the code below with the code for your skill! 
bot.reply(&quot;Hello &quot; + bot.arguments)
</code></pre>
</section>
</div>

<p>Go ahead and save the skill so you can test it. Below the editor is an interactive shell. The prompt should say <code>@abbot hello</code> (or <code>@abbot whatever-you-named-the-skill</code>). You can test the skill by typing &quot;world&quot; in the interactive shell.</p>
<p>Abbot should respond in the interactive shell by saying &quot;world&quot;). Congratulations, you've written your first skill! Of course, this might not be as exciting as you were hoping for, so let's add a few features to make it a little more useful.</p>
<h3 id="working-with-user-provided-data">Working with User-Provided Data</h3>
<p>Most skills will need to collect some information from the user in chat. The text that the chat user entered is available in the arguments property:</p>
<ul>
<li>In C# the <a class="xref" href="../../reference/csharp/Serious.Abbot.Scripting.IBot.html#Serious_Abbot_Scripting_IBot_Arguments">Arguments</a> property is a special collection of words. See <a class="xref" href="../writing-skills/parsing-arguments-c-sharp/index.html">Parsing Arguments with C#</a> for more details.</li>
<li>In JavaScript, <code>bot.tokenizedArguments</code> contains the arguments as a collection of words, while <code>bot.arguments</code> is a string containing all the arguments the user typed (it does not include the skill name).</li>
<li>In Python, <code>bot.tokenized_arguments</code> contais the arguments as a collection of words, while <code>bot.arguments</code> is a string containing all the arguments the user typed (it does not include the skill name).</li>
</ul>
<p>The default code when creating a new skill demonstrates accessing user provided data.</p>
<h2 id="a-more-involved-example-writing-skills-is-hard-lets-go-shopping">A more involved example (writing skills is hard, let's go shopping!)</h2>
<p>A skill that repeats what you said doesn't seem very useful. Let's try something a little more valuable -- a shared shopping list. Instead of forcing you to set up your own database, Abbot provides an easy-to-use persistence layer called the Brain. There's a full reference of the brain in <a href="/help/reference">Abbot's reference documentation</a>, but let's try out some ideas here.</p>
<p>If you've left the edit screen, return to your <code>hello</code> skill. Rename the skill to <code>shoppinglist</code> and hit <code>Save</code> to follow along with the guide.</p>
<div class="TIP">
<h5>Tip</h5>
<p>When editing a skill, you can save at any time using the keyboard. <code>CMD+S</code> on a mac. <code>CTRL+S</code> on Windows.</p>
</div>
<p>We'll support this chat interface for our users:</p>
<pre><code class="lang-text">@Abbot shoppinglist add item // to add items to the shopping list.
@Abbot shoppinglist remove item // to remove items from the shopping list. 
@Abbot shoppinglist show // to show the items that are on the shopping list. 
</code></pre>
<p>Let's build the interface first. We need to stub out handlers for each of our use cases. We can do that by retrieving the value from the arguments. Stub out three functions (one for each task type) like this:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-1_tabid-cs" role="tab" aria-controls="tabpanel_bHGHmlrG6S-1_tabid-cs" data-tab="tabid-cs" tabindex="0" aria-selected="true">C#</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-1_tabid-js" role="tab" aria-controls="tabpanel_bHGHmlrG6S-1_tabid-js" data-tab="tabid-js" tabindex="-1">JavaScript</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-1_tabid-py" role="tab" aria-controls="tabpanel_bHGHmlrG6S-1_tabid-py" data-tab="tabid-py" tabindex="-1">Python</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-1_tabid-cs" role="tabpanel" data-tab="tabid-cs">

<pre><code class="lang-cs">Task Add(string item) {
    return Bot.ReplyAsync(&quot;Adding &quot; + item);
}

Task Remove(string item) {
    return Bot.ReplyAsync(&quot;Removing &quot; + item);
}

Task Show() {
    return Bot.ReplyAsync(&quot;Show the shopping list&quot;);
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-1_tabid-js" role="tabpanel" data-tab="tabid-js" aria-hidden="true" hidden="hidden">

<pre><code class="lang-javascript">function add(item) {
    bot.reply(&quot;Adding &quot; + item);
}

function remove(item) {
    bot.reply(&quot;Removing &quot; + item);
}

function show() {
    bot.reply(&quot;Show the shopping list.&quot;);
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-1_tabid-py" role="tabpanel" data-tab="tabid-py" aria-hidden="true" hidden="hidden">

<pre><code class="lang-python">def add(item):
    bot.reply(&quot;Adding &quot; + item)

def remove(item):
    bot.reply(&quot;Removing &quot; + item)

def show():
    bot.reply(&quot;Show the shopping list&quot;)
</code></pre>
</section>
</div>

<p>Now we can parse the user's command to see which function to call. To do that, we can deconstruct the arguments into two values, the first word as the &quot;command&quot; and the rest of the string as the &quot;argument&quot;. Put this in at the top of your skill before the methods you stubbed out:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-2">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-2_tabid-cs" role="tab" aria-controls="tabpanel_bHGHmlrG6S-2_tabid-cs" data-tab="tabid-cs" tabindex="0" aria-selected="true">C#</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-2_tabid-js" role="tab" aria-controls="tabpanel_bHGHmlrG6S-2_tabid-js" data-tab="tabid-js" tabindex="-1">JavaScript</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-2_tabid-py" role="tab" aria-controls="tabpanel_bHGHmlrG6S-2_tabid-py" data-tab="tabid-py" tabindex="-1">Python</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-2_tabid-cs" role="tabpanel" data-tab="tabid-cs">

<pre><code class="lang-cs">var (command, argument) = Bot.Arguments;

switch (command.Value) {
    case &quot;add&quot;:
        await Add(argument.Value);
        break;
    case &quot;remove&quot;:
        await Remove(argument.Value);
        break;
    case &quot;show&quot;:
        await Show();
        break;
    default:
        await Bot.ReplyAsync(&quot;I don't know what to do!&quot;);
        break;
}
</code></pre>
<p>When deconstructing the arguments in this way, the first value contains the first word sent by the user. The second value contains the rest of the words sent by the user. If the user only sent one word, the second argument would have a type <code>IMissingArgument</code> and a <code>Value</code> of empty string.</p>
<p>The <code>switch</code> statement tells the skill runner which method to run, along with the arguments provided by the user, if applicable. Finally, the skill will reply to the user &quot;I don't know what to do!&quot; if no arguments were provided. You can provide a more useful error message on your own, or change the default behavior to something more interesting.</p>
</section>
<section id="tabpanel_bHGHmlrG6S-2_tabid-js" role="tabpanel" data-tab="tabid-js" aria-hidden="true" hidden="hidden">

<pre><code class="lang-javascript">const words = bot.arguments.split(&quot; &quot;);
const command = words.shift();
const userArguments = words.join(&quot; &quot;);

switch (command) {
  case &quot;add&quot;:
    add(userArguments);
    break;
  case &quot;remove&quot;: 
    remove(userArguments);
    break;
  case &quot;list&quot;: 
    show();
    break;
  default:
    bot.reply(&quot;I don't know what to do!&quot;);
}
</code></pre>
<p>You can see that <code>words</code> contains an array of all of the words sent by the user, and <code>userArguments</code> contains the rest of the line. The <code>case</code> statements tell the skill runner which method to run, along with the arguments provided by the user, if applicable. Finally, the skill will reply to the user &quot;I don't know what to do!&quot; if no arguments were provided. You can provide a more useful error message on your own, or change the default behavior to something more interesting.</p>
</section>
<section id="tabpanel_bHGHmlrG6S-2_tabid-py" role="tabpanel" data-tab="tabid-py" aria-hidden="true" hidden="hidden">

<pre><code class="lang-python">words = args.split(&quot; &quot;)
user_arguments = &quot; &quot;.join(words[1::])

if words[0] == &quot;add&quot;:
    add(user_arguments)
elif words[0] == &quot;remove&quot;:
    remove(user_arguments)
elif words[0] == &quot;show&quot;:
    show()
else:
    bot.reply(&quot;I don't know what to do!&quot;)
</code></pre>
<p>You can see that <code>words</code> contains an array of all of the words sent by the user, and <code>user_arguments</code> contains the rest of the line. The <code>if</code> statements tell the skill runner which method to run, along with the arguments provided by the user, if applicable. Finally, the skill will reply to the user &quot;I don't know what to do!&quot; if no arguments were provided. You can provide a more useful error message on your own, or change the default behavior to something more interesting.</p>
</section>
</div>

<p>We've written enough code that it may make sense to start testing if everything is wired up. In each of <code>Add</code>, <code>Remove</code>, and <code>Show</code> methods, add a line to reply with a message in each method that indicates we're in that method. Once that's done we can test our skill's API before persisting data. To test that, try some commands in the command window like:</p>
<pre><code class="lang-text">@Abbot shoppinglist add spaghetti
@Abbot shoppinglist add sauce
@Abbot shoppinglist show
@Abbot shoppinglist remove sauce
</code></pre>
<p>Assuming everything has been entered correctly, Abbot should return some of the debug statements we entered earlier back into the command window. If there are any errors, the editor screen should be able to highlight them for you. In the rare case that the skill isn't working, and the editor isn't showing any errors, take a look at the JavaScript console. Please let us know if there are any errors here by emailing help@ab.bot. We will take a look as soon as we can!</p>
<h3 id="data-persistence">Data Persistence</h3>
<p>Find the method to add an item and change it like so:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-3">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-3_tabid-cs" role="tab" aria-controls="tabpanel_bHGHmlrG6S-3_tabid-cs" data-tab="tabid-cs" tabindex="0" aria-selected="true">C#</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-3_tabid-js" role="tab" aria-controls="tabpanel_bHGHmlrG6S-3_tabid-js" data-tab="tabid-js" tabindex="-1">JavaScript</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-3_tabid-py" role="tab" aria-controls="tabpanel_bHGHmlrG6S-3_tabid-py" data-tab="tabid-py" tabindex="-1">Python</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-3_tabid-cs" role="tabpanel" data-tab="tabid-cs">

<pre><code class="lang-cs">public async Task&lt;string&gt; Add(string item) {    
    await Bot.Brain.WriteAsync(item, item);
    return $&quot;Added {item} to the shopping list.&quot;;    
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-3_tabid-js" role="tabpanel" data-tab="tabid-js" aria-hidden="true" hidden="hidden">

<pre><code class="lang-javascript">async function add(item) {
  await bot.brain.write(item, item);
  return `Added ${item} to the shopping list.`;
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-3_tabid-py" role="tabpanel" data-tab="tabid-py" aria-hidden="true" hidden="hidden">

<pre><code class="lang-python">def add(item):
    bot.brain.write(item, item)
    return &quot;Added {} to the shopping list.&quot;.format(item)
</code></pre>
</section>
</div>

<p>The first argument of <code>write</code> (or <code>WriteAsync</code> in C#) expects a key, and the second expects a value. Keys must be unique in Abbot (duplicates overwrite the previous value), so we will store the items in our list as keys. Later we can use the value for metadata, like whether or not the item was purchased, or who added the item. For now, let's just use keys. One more thing -- <code>write</code> (or <code>WriteAsync</code>) acts as an upsert operation. If there is a pre-existing item with a matching key, the method will overwrite that item.</p>
<p>Once the item has been added to Abbot's brain, we return a message so that we can report it back to the user later.</p>
<p>Next, change the method to remove an item, to look like this:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-4">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-4_tabid-cs" role="tab" aria-controls="tabpanel_bHGHmlrG6S-4_tabid-cs" data-tab="tabid-cs" tabindex="0" aria-selected="true">C#</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-4_tabid-js" role="tab" aria-controls="tabpanel_bHGHmlrG6S-4_tabid-js" data-tab="tabid-js" tabindex="-1">JavaScript</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-4_tabid-py" role="tab" aria-controls="tabpanel_bHGHmlrG6S-4_tabid-py" data-tab="tabid-py" tabindex="-1">Python</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-4_tabid-cs" role="tabpanel" data-tab="tabid-cs">

<pre><code class="lang-cs">public async Task&lt;string&gt; Remove(string item) {
    await Bot.Brain.DeleteAsync(item);
    return $&quot;Removed {item} from the shopping list.&quot;;
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-4_tabid-js" role="tabpanel" data-tab="tabid-js" aria-hidden="true" hidden="hidden">

<pre><code class="lang-javascript">async function remove(item) {
  await bot.brain.delete(item);
  return `Removed ${item} from the shopping list.`;
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-4_tabid-py" role="tabpanel" data-tab="tabid-py" aria-hidden="true" hidden="hidden">

<pre><code class="lang-python">def remove(item):
    bot.brain.delete(item)
    return &quot;Removed {} from the shopping list.&quot;.format(item)
</code></pre>
</section>
</div>

<p>This will allow us to remove items from our list. <code>delete</code> (or <code>DeleteAsync</code> in C#) always expects a key in order to identify what data to remove. It will not raise an exception if the data is not found.</p>
<p>Finally, we need a way to list the shopping list. Change the method to show items to match this:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-5">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-5_tabid-cs" role="tab" aria-controls="tabpanel_bHGHmlrG6S-5_tabid-cs" data-tab="tabid-cs" tabindex="0" aria-selected="true">C#</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-5_tabid-js" role="tab" aria-controls="tabpanel_bHGHmlrG6S-5_tabid-js" data-tab="tabid-js" tabindex="-1">JavaScript</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-5_tabid-py" role="tab" aria-controls="tabpanel_bHGHmlrG6S-5_tabid-py" data-tab="tabid-py" tabindex="-1">Python</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-5_tabid-cs" role="tabpanel" data-tab="tabid-cs">

<pre><code class="lang-c#">public async Task&lt;string&gt; Show() {
    var response = &quot;Here's what's on the list:&quot;;
    var items = await Bot.Brain.GetKeysAsync();
    foreach(var item in items) {
         response += $&quot;\n* {item}&quot;;
    }
    
    return response;
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-5_tabid-js" role="tabpanel" data-tab="tabid-js" aria-hidden="true" hidden="hidden">

<pre><code class="lang-javascript">async function show() {
  const list = await bot.brain.list();
  var response = &quot;Here's what's on the list: \n&quot;;
  list.forEach(function(item) {
    response += `* ${item.key} \n`;
  })
  return response;
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-5_tabid-py" role="tabpanel" data-tab="tabid-py" aria-hidden="true" hidden="hidden">

<pre><code class="lang-python">def show():
    response = &quot;Here's what's on the list:&quot; 
    items = bot.brain.list()
    all_items = [&quot;* {}&quot;.format(item) for item in items]
    response += &quot;\n&quot;.join(all_items)
    return response
</code></pre>
</section>
</div>

<p>This method will call <code>list</code> (or <code>GetKeysAsync</code>) to fetch all of the keys in Abbot's brain for this skill, iterate through them, and return the result back to the caller. We format the response here, but could just as easily return a List back to the caller.</p>
<p>Now we can parse the user's command and call the correct method to modify the shopping list:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-6">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-6_tabid-cs" role="tab" aria-controls="tabpanel_bHGHmlrG6S-6_tabid-cs" data-tab="tabid-cs" tabindex="0" aria-selected="true">C#</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-6_tabid-js" role="tab" aria-controls="tabpanel_bHGHmlrG6S-6_tabid-js" data-tab="tabid-js" tabindex="-1">JavaScript</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-6_tabid-py" role="tab" aria-controls="tabpanel_bHGHmlrG6S-6_tabid-py" data-tab="tabid-py" tabindex="-1">Python</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-6_tabid-cs" role="tabpanel" data-tab="tabid-cs">

<pre><code class="lang-cs">var (command, argument) = Bot.Arguments;

var output = string.Empty;
switch (command.Value) {
    case &quot;add&quot;:
        output = await Add(argument.Value);
        break;
    case &quot;remove&quot;:
        output = await Remove(argument.Value);
        break;
    case &quot;show&quot;:
        output = await Show();
        break;
    default:
        output = &quot;I don't know what to do!&quot;;
        break;
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-6_tabid-js" role="tabpanel" data-tab="tabid-js" aria-hidden="true" hidden="hidden">

<pre><code class="lang-javascript">const words = bot.arguments.split(&quot; &quot;);
const command = words.shift();
const userArguments = words.join(&quot; &quot;);

var output = &quot;&quot;;

switch (command) {
  case &quot;add&quot;:
    output = await add(userArguments);
    break;
  case &quot;remove&quot;: 
    output = await remove(userArguments);
    break;
  case &quot;list&quot;: 
    output = await show();
    break;
  default:
    output = &quot;I don't know what to do!&quot;;
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-6_tabid-py" role="tabpanel" data-tab="tabid-py" aria-hidden="true" hidden="hidden">

<pre><code class="lang-python">words = args.split(&quot; &quot;)
user_arguments = &quot; &quot;.join(words[1::])
output = &quot;&quot;

if words[0] == &quot;add&quot;:
    output = add(user_arguments)
elif words[0] == &quot;remove&quot;:
    output = remove(user_arguments)
elif words[0] == &quot;show&quot;:
    output = show()
else:
    output = &quot;I don't know what to do!&quot;
</code></pre>
</section>
</div>

<p>As you can see, we create a variable called <code>output</code> and store the output of our method there. Finally, we need to report back to the user -- every skill should return something to your user so that they know it succeeded (or failed, as they sometimes do).</p>
<p>To do that, we can simply call the reply method: <code>bot.reply(output)</code> in JavaScript and Python or <code>await Bot.ReplyAsync(output)</code> in C#.</p>
<p>And we're done! Try interacting with your skill from Abbot's console. You should be able to add and remove items, as well as view the shopping list. If you save this skill, you can interact with it in chat as well.</p>
<h3 id="wrapping-up">Wrapping up</h3>
<p>Here's the entire skill, if you'd like to view the whole thing:</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-7">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-7_tabid-cs" role="tab" aria-controls="tabpanel_bHGHmlrG6S-7_tabid-cs" data-tab="tabid-cs" tabindex="0" aria-selected="true">C#</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-7_tabid-js" role="tab" aria-controls="tabpanel_bHGHmlrG6S-7_tabid-js" data-tab="tabid-js" tabindex="-1">JavaScript</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-7_tabid-py" role="tab" aria-controls="tabpanel_bHGHmlrG6S-7_tabid-py" data-tab="tabid-py" tabindex="-1">Python</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-7_tabid-cs" role="tabpanel" data-tab="tabid-cs">

<pre><code class="lang-cs">// A simple shopping list skill.
var (command, argument) = Bot.Arguments;

var output = string.Empty;
switch (command.Value) {
    case &quot;add&quot;:
        output = await Add(argument.Value);
        break;
    case &quot;remove&quot;:
        output = await Remove(argument.Value);
        break;
    case &quot;show&quot;:
        output = await Show();
        break;
    default:
        output = &quot;I don't know what to do!&quot;;
        break;
}

await Bot.ReplyAsync(output);

public async Task&lt;string&gt; Add(string item) {    
    await Bot.Brain.WriteAsync(item, item);
    return $&quot;Added {item} to the shopping list.&quot;;    
}

public async Task&lt;string&gt; Remove(string item) {
    await Bot.Brain.DeleteAsync(item);
    return $&quot;Removed {item} from the shopping list.&quot;;
}

public async Task&lt;string&gt; Show() {
    var response = &quot;Here's what's on the list:&quot;;
    var items = await Bot.Brain.GetKeysAsync();
    foreach(var item in items) {
         response += $&quot;\n* {item}&quot;;
    }
    
    return response;
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-7_tabid-js" role="tabpanel" data-tab="tabid-js" aria-hidden="true" hidden="hidden">

<pre><code class="lang-javascript">// A simple shoppping list skill.

const words = bot.arguments.split(&quot; &quot;);
const command = words.shift();
const userArguments = words.join(&quot; &quot;);

var output = &quot;&quot;;

switch (command) {
  case &quot;add&quot;:
    output = await add(userArguments);
    break;
  case &quot;remove&quot;: 
    output = await remove(userArguments);
    break;
  case &quot;list&quot;: 
    output = await show();
    break;
  default:
    output = &quot;I don't know what to do!&quot;;
}

bot.reply(output);
async function add(item) {
  await bot.brain.write(item, item);
  return `Added ${item} to the shopping list.`;
}

async function remove(item) {
  await bot.brain.delete(item);
  return `Removed ${item} from the shopping list.`;
}

async function show() {
  const list = await bot.brain.list();
  var response = &quot;Here's what's on the list: \n&quot;;
  list.forEach(function(item) {
    response += `* ${item.key} \n`;
  })
  return response;
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-7_tabid-py" role="tabpanel" data-tab="tabid-py" aria-hidden="true" hidden="hidden">

<pre><code class="lang-python"># A simple shopping list skill. 

words = args.split(&quot; &quot;)
user_arguments = &quot; &quot;.join(words[1::])
output = &quot;&quot;

if words[0] == &quot;add&quot;:
    output = add(user_arguments)
elif words[0] == &quot;remove&quot;:
    output = remove(user_arguments)
elif words[0] == &quot;show&quot;:
    output = show()
else:
    output = &quot;I don't know what to do!&quot;

bot.reply(output)

def add(item):
    bot.brain.write(item, item)
    return &quot;Added {} to the shopping list.&quot;.format(item)
  
def remove(item):
    bot.brain.delete(item)
    return &quot;Removed {} from the shopping list.&quot;.format(item)

def show():
    response = &quot;Here's what's on the list: \n&quot; 
    items = bot.brain.list()
    all_items = [&quot;* {}&quot;.format(item) for item in items]
    response += &quot;\n&quot;.join(all_items)
    return response
</code></pre>
</section>
</div>
<h2 id="next-steps">Next Steps</h2>
<p>For a challenge, you could modify this skill to check if data already exists before removing it, or add a quantity field in <code>Value</code>. There are many things you could try! We didn't get an opportunity to work with <code>Secret</code> values in this guide, but if we needed to interact with an external API, they would have been useful here. For now, we'll leave those as a topic for another guide.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
              <ul class="is-horizontal">
                <li>
                    <a href="https://ab.bot/"><img src="../../templates/abbot/img/abbot-avatar-small.png" width="24" alt="Abbot robot logo"></a>
                    <span class="has-text-grey">© A Serious Business, Inc.</span>
                </li>
                <li><a href="https://ab.bot/about/policy/terms">Terms</a></li>
                <li><a href="https://ab.bot/about/policy/privacy">Privacy</a></li>
                <li><a href="/">Help</a></li>
                <li><a href="https://blog.ab.bot">Blog</a></li>
                <li><a href="https://ab.bot/plans">Plans</a></li>
                <li><a href="mailto:support@ab.bot">Contact Us</a></li>
              </ul>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>

<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Abbot Reference Documentation | Abbot Docs </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Abbot Reference Documentation | Abbot Docs ">
    <meta name="generator" content="docfx 2.59.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Bungee+Hairline&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../templates/abbot/css/abbot.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <span class="navbar-brand abbot-logo">
                <a href="https://ab.bot/">
                <svg id="logo-light" width="77" height="14" viewbox="0 0 33 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4.46029 2.49502L3.78048 0.93825C3.69435 0.735062 3.59899 0.558767 3.49441 0.421317C3.3929 0.280879 3.1868 0.113548 2.78691 0.113548H1.82411C1.41807 0.113548 1.20889 0.277891 1.10431 0.415341C0.996645 0.558767 0.901287 0.732074 0.818233 0.935261L0.184564 2.50996C0.126119 2.66235 0.0799776 2.82371 0.049217 2.99104C0.0153803 3.15837 0 3.34363 0 3.54084V5.87749H0.713647V4.23407H3.93736V5.87749H4.65101V3.54084C4.65101 3.34363 4.63255 3.15837 4.60179 2.99104C4.56795 2.82968 4.52489 2.66534 4.46029 2.49502ZM1.82411 0.806775H2.78999C2.84228 0.806775 2.90688 0.812751 2.93149 0.84562C2.99916 0.941237 3.06376 1.06076 3.12836 1.21016L3.79894 2.74901C3.83893 2.86255 3.87276 2.98805 3.90045 3.11952C3.92506 3.24502 3.93736 3.38546 3.93736 3.53785H0.713647C0.713647 3.38546 0.725951 3.24502 0.750559 3.11952C0.778244 2.98805 0.812081 2.86255 0.848993 2.76096L1.47959 1.19522C1.53496 1.05777 1.59955 0.941237 1.66415 0.84562C1.67953 0.821716 1.74105 0.806775 1.82411 0.806775Z" fill="#ffffff"></path>
                  <path d="M11.6309 3.02091C11.5109 2.89243 11.3448 2.79083 11.1418 2.71912C11.1479 2.70717 11.1541 2.69522 11.1602 2.68028C11.2433 2.48605 11.2863 2.26793 11.2863 2.03785V1.42828C11.2863 1.26095 11.2648 1.10558 11.2279 0.959161C11.1818 0.788842 11.0925 0.636452 10.9664 0.507966C10.8403 0.37948 10.665 0.280874 10.4466 0.212149C10.2405 0.146412 9.99439 0.116531 9.69294 0.116531H7.38281V5.87749H10.3389C10.6465 5.87749 10.8926 5.8506 11.0925 5.79382C11.3109 5.73406 11.4863 5.64143 11.6093 5.52789C11.7385 5.40836 11.8277 5.25896 11.8769 5.08864C11.9169 4.94522 11.9354 4.78984 11.9354 4.6255V4.01295C11.9354 3.83366 11.9169 3.66334 11.8831 3.51095C11.8431 3.32271 11.7601 3.15836 11.6309 3.02091ZM10.5727 2.03785C10.5727 2.13048 10.5635 2.22311 10.545 2.30677C10.5358 2.35458 10.5112 2.39641 10.4712 2.43526C10.4404 2.46514 10.3727 2.51295 10.2374 2.55179C10.1113 2.59063 9.92672 2.60856 9.68986 2.60856H8.09646V0.80677H9.68986C10.2405 0.80677 10.385 0.92928 10.4158 0.965137C10.5204 1.08765 10.5727 1.24004 10.5727 1.4253V2.03785V2.03785ZM8.09646 3.30478H10.3481C10.8741 3.30478 11.0218 3.42131 11.0618 3.47211C11.1694 3.61255 11.2217 3.78585 11.2217 4.00996V4.62251C11.2217 4.80777 11.1756 4.94522 11.0802 5.04382C11.0587 5.06773 10.9141 5.18426 10.3389 5.18426H8.09646V3.30478Z" fill="#ffffff"></path>
                  <path d="M18.7666 3.02091C18.6466 2.89243 18.4805 2.79083 18.2775 2.71912C18.2837 2.70717 18.2898 2.69223 18.296 2.68028C18.379 2.48307 18.4221 2.26793 18.4221 2.03785V1.42828C18.4221 1.26394 18.4036 1.10856 18.3636 0.959161C18.3175 0.788842 18.2283 0.636452 18.0991 0.507966C17.973 0.37948 17.7976 0.280874 17.5792 0.212149C17.3762 0.146412 17.1271 0.116531 16.8256 0.116531H14.5186V5.87749H17.4747C17.7823 5.87749 18.0283 5.8506 18.2283 5.79382C18.4498 5.73107 18.6189 5.64442 18.7451 5.5249C18.8743 5.40538 18.9635 5.25597 19.0096 5.08864C19.0496 4.94522 19.0711 4.78984 19.0711 4.62251V4.00996C19.0711 3.83067 19.0527 3.66334 19.0188 3.50797C18.9788 3.32271 18.8927 3.15836 18.7666 3.02091ZM17.7084 2.03785C17.7084 2.13048 17.6992 2.22012 17.6807 2.30677C17.6715 2.35458 17.6469 2.39641 17.6069 2.43526C17.5762 2.46514 17.5085 2.50996 17.3731 2.55179C17.247 2.59063 17.0625 2.60856 16.8256 2.60856H15.2322V0.80677H16.8256C17.3762 0.80677 17.5208 0.92928 17.5516 0.965137C17.6561 1.09064 17.7084 1.24004 17.7084 1.4253V2.03785V2.03785ZM15.2322 3.30478H17.4839C18.0253 3.30478 18.1668 3.43326 18.1975 3.47211C18.3052 3.61255 18.3575 3.78585 18.3575 4.00996V4.62251C18.3575 4.80777 18.3113 4.94522 18.2129 5.04382C18.1914 5.06773 18.0499 5.18426 17.4716 5.18426H15.2291V3.30478H15.2322Z" fill="#ffffff"></path>
                  <path d="M23.8021 0C22.947 0 22.3687 0.143426 22.0334 0.433267C21.6919 0.729084 21.5166 1.11753 21.5166 1.58964V4.41036C21.5166 4.87948 21.6919 5.26793 22.0334 5.56673C22.3687 5.85956 22.95 6.00299 23.8021 6.00299C24.6542 6.00299 25.2356 5.86255 25.5801 5.56972C25.9308 5.2739 26.1092 4.88247 26.1092 4.41335V1.58964C26.1092 1.11753 25.9308 0.729084 25.5801 0.433267C25.2356 0.140438 24.6542 0 23.8021 0ZM23.8021 5.30677C22.9931 5.30677 22.6578 5.16633 22.5163 5.0498C22.3195 4.88546 22.2302 4.68227 22.2302 4.41036V1.58964C22.2302 1.32072 22.3256 1.11155 22.5163 0.950199C22.6578 0.833665 22.9931 0.693227 23.8021 0.693227C24.6111 0.693227 24.9556 0.833665 25.1002 0.953187C25.3002 1.11753 25.3955 1.32072 25.3955 1.58964V4.41036C25.3955 4.68227 25.3032 4.88247 25.1002 5.04681C24.9556 5.16633 24.6142 5.30677 23.8021 5.30677Z" fill="#ffffff"></path>
                  <path d="M28.251 0.113548V0.806775H30.2689V5.8745H30.9825V0.806775H33.0004V0.113548H28.251Z" fill="#ffffff"></path>
                </svg></a> <a href="/">Docs</a>
              </span>    </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="legacy-reference">
<h1 id="abbot-reference-documentation">Abbot Reference Documentation</h1>

<h2 id="the-bot-object">The Bot Object</h2>
<ul>
<li><code>Bot.Id</code> <sup>C#</sup> <code>bot.id</code> <sup>Python, JavaScript</sup>
<ul>
<li>The identifier for the Bot. This can be used to test if a user has mentioned the bot (by comparing Mention.Id and Bot.Id for equality).</li>
</ul>
</li>
<li><code>Bot.Arguments</code> <sup>C#</sup> <code>bot.arguments</code> <sup>Python, JavaScript</sup> <code>args</code> <sup>Python</sup>
<ul>
<li>The text that the user entered when calling the skill. This does not include the name of the skill. In C#, this will be a special collection of parsed arguments. Access the <code>Value</code> property to get the full text as a string.</li>
</ul>
</li>
<li><code>Bot.IsChat</code> <sup>C#</sup> <code>bot.is_chat</code> <sup>Python</sup> <code>bot.isChat</code> <sup>JavaScript</sup>
<ul>
<li>Set to true if the message came from chat or the Bot Console. False if it came from a trigger.</li>
</ul>
</li>
<li><code>Bot.IsRequest</code> <sup>C#</sup> <code>bot.is_request</code> <sup>Python</sup> <code>bot.isRequest</code> <sup>JavaScript</sup>
<ul>
<li>True if the message comes from either a Scheduled Trigger or an HTTP Trigger. Otherwise, set to false.</li>
</ul>
</li>
<li><code>Bot.Brain</code> <sup>C#</sup> <code>bot.brain</code> <sup>Python, JavaScript</sup>
<ul>
<li>The interface to Abbot's storage system. See <code>Managing Data</code> section for more.</li>
</ul>
</li>
<li><code>Bot.Code</code> <sup>C#</sup> <code>bot.code</code> <sup>Python, JavaScript</sup>
<ul>
<li>The code of the skill. This is used for running the skill and should be considered an Internal variable. Be careful with this!</li>
</ul>
</li>
<li><code>Bot.From</code> <sup>C#</sup> <code>bot.from_user</code> <sup>Python</sup> <code>bot.from</code> <sup>JavaScript</sup>
<ul>
<li>The <code>Id</code> and <code>Name</code> of the user making the request. Only populated when <code>Bot.IsChat</code> is true.</li>
</ul>
</li>
<li><code>Bot.Mentions</code> <sup>C#</sup> <code>bot.mentions</code> <sup>Python, JavaScript</sup>
<ul>
<li>An array of <code>Mention</code> objects extracted from the entered text.</li>
</ul>
</li>
<li><code>Bot.Request</code> <sup>C#</sup> <code>bot.request</code> <sup>Python, JavaScript</sup>
<ul>
<li>Information about the request sent to the bot, when the bot is activated by either a Scheduled or HTTP Trigger. This may be null.
<ul>
<li><code>Bot.Request.HttpMethod</code>: The HTTP method sent to the Trigger. This should currently always be <code>POST</code>.</li>
<li><code>Bot.Request.RawBody</code>: The raw body of the request, if it exists.</li>
<li><code>Bot.Request.ContentType</code>: The content type of the request.</li>
<li><code>Bot.Request.IsJson</code>: True if the content type is json. Otherwise false.</li>
<li><code>Bot.Request.IsForm</code>: True if this is a form submission. Otherwise false.</li>
<li><code>Bot.Request.Headers</code>: A JSON collection of the request headers.</li>
<li><code>Bot.Request.Form</code>: The form data. Only populated if <code>IsForm</code> is true.</li>
<li><code>Bot.Request.Query</code>: The querystring sent with the request, if one was present.</li>
</ul>
</li>
</ul>
</li>
<li><code>Bot.Secrets</code> <sup>C#</sup> <code>bot.secrets</code> <sup>Python, JavaScript</sup>
<ul>
<li>The interface to any skill secrets that might be set. See <code>Managing Secrets</code> for more.</li>
</ul>
</li>
<li><code>Bot.ReplyAsync(response)</code> <sup>C#</sup> <code>bot.reply(response)</code> <sup>Python, JavaScript</sup>
<ul>
<li>The method skills must use to send responses back to the chat. This may be called multiple times.</li>
</ul>
</li>
<li><code>Bot.ReplyLaterAsync(response, delay_in_seconds)</code><sup>C#</sup> <br><code>bot.reply_later(response, delay_in_seconds)</code><sup>Python</sup><br><code>bot.replyLater(response, delay_in_seconds)</code><sup>JavaScript</sup>
<ul>
<li>Send a response back to the chat after <code>delay_in_seconds</code> has elapsed. This may be called multiple times, and is the preferred method for delaying responses.</li>
</ul>
</li>
</ul>
<h2 id="managing-data-c">Managing Data <sup>C#</sup></h2>
<p>Abbot includes a simple persistence layer that makes it easy for your skills to store and retrieve data. You can access Abbot's brain with <code>Bot.Brain</code>. The methods that are included in <code>Bot.Brain</code> are:</p>
<ul>
<li><code>WriteAsync(Key, Value)</code>: Save <code>Value</code> with a key of <code>Key</code>.</li>
<li><code>GetAsync(Key)</code>: Get the value stored with key <code>Key</code>.</li>
<li><code>GetKeysAsync(Key?)</code>: Get all keys that match <code>Key</code>. <code>Key</code> can be empty and will return all keys.
<ul>
<li>note: This is not currently implemented in Python or JavaScript.</li>
</ul>
</li>
<li><code>GetAllAsync(Key?)</code>: Get all records where keys match <code>Key</code>. This supports fuzzy matching, so partial matches will be returned. <code>Key</code> can be empty and will return all keys and values.
<ul>
<li>note: This is not currently implemented in Python or JavaScript.</li>
</ul>
</li>
<li><code>DeleteAsync(Key)</code>: Delete the value stored with key <code>Key</code>.</li>
</ul>
<h2 id="managing-secrets-c">Managing Secrets <sup>C#</sup></h2>
<p>Secrets are a special kind of data, and can be used to store things like authentication tokens or other configuration items that you prefer to exclude from your skill. Secrets can only be set from <a href="https://ab.bot">https://ab.bot</a>, and are specific to a single skill. Since developers can read data from your secrets, be careful about the data that you store there -- passwords should never be stored in a Secret, for example. Secrets can be read using a similar interface to Abbot's brain:</p>
<ul>
<li><code>GetAsync(Key)</code>: Get the Secret with the key of <code>Key</code></li>
</ul>
<h2 id="the-mentions-collection-c">The Mentions Collection <sup>C#</sup></h2>
<p><code>Bot.Mentions</code> contains a list of all mentions that were found in the user's text. The <code>ToString()</code> method on each mention will return an appropriately formatted username mention to the chat system (for example, <code>&lt;@U92394113&gt;</code> in Slack). Skill developers can also use any of the other fields available in the Mention object in their skills.</p>
<h3 id="the-mention-object-c">The Mention Object <sup>C#</sup></h3>
<p>The Mention object has these fields:</p>
<ul>
<li><code>Id</code>: The id of the person or bot that was mentioned. This id is unique to the chat platform that was being used, and is not an Abbot user id.</li>
<li><code>UserName</code>: The user name of the person or bot that was mentioned. This name is determined by the chat platform, and is not an Abbot user name.</li>
<li><code>Name</code>: The display name of the person or bot that was mentioned. This is set by the user in the chat platform and may change over time.
If you are writing skills that rely on the Mention object, the <code>Id</code> is the only reliable field to use in keys and for comparison.</li>
</ul>
<h2 id="managing-data-python-javascript">Managing Data <sup>Python, JavaScript</sup></h2>
<p>Abbot includes a simple persistence layer that makes it easy for your skills to store and retrieve data. You can access Abbot's brain with <code>bot.brain</code>. The methods that are included in <code>bot.brain</code> are:</p>
<ul>
<li><code>write(key, value)</code>: Save <code>value</code> with a key of <code>key</code>.</li>
<li><code>get(key)</code>: Get the value stored with key <code>key</code>.</li>
<li><code>list()</code>: Get all records.</li>
<li><code>delete(key)</code>: Delete the value stored with key <code>key</code>.</li>
</ul>
<h2 id="managing-secrets-python-javascript">Managing Secrets <sup>Python, JavaScript</sup></h2>
<p>Secrets are a special kind of data, and can be used to store things like authentication tokens or other configuration items that you prefer to exclude from your skill. Secrets can only be set from <a href="https://ab.bot">https://ab.bot</a>, and are specific to a single skill. Since developers can read data from your secrets, be careful about the data that you store there -- passwords should never be stored in a Secret, for example. Secrets can be read using a similar interface to Abbot's brain (but with <code>bot.secrets</code>):</p>
<ul>
<li><code>get(key)</code>: Get the Secret with the key of <code>key</code></li>
</ul>
<h2 id="the-mentions-collection-python-javascript">The Mentions Collection <sup>Python, JavaScript</sup></h2>
<p><code>bot.mentions</code> contains a list of all mentions that were found in the user's text. The <code>toString()</code> or <code>str</code> method on each mention will return an appropriately formatted username mention to the chat system (for example, <code>&lt;@U92394113&gt;</code> in Slack). Skill developers can also use any of the other fields available in the Mention object in their skills.</p>
<h3 id="the-mention-object-python-javascript">The Mention Object <sup>Python, JavaScript</sup></h3>
<p>The Mention object has these fields:</p>
<ul>
<li><code>id</code>: The id of the person or bot that was mentioned. This id is unique to the chat platform that was being used, and is not an Abbot user id.</li>
<li><code>user_name</code> <sup>Python</sup>, <code>userName</code> <sup>JavaScript</sup>: The user name of the person or bot that was mentioned. This name is determined by the chat platform, and is not an Abbot user name.</li>
<li><code>name</code>: The display name of the person or bot that was mentioned. This is set by the user in the chat platform and may change over time.
If you are writing skills that rely on the Mention object, the <code>id</code> is the only reliable field to use in keys and for comparison.</li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
              <ul class="is-horizontal">
                <li>
                    <a href="https://ab.bot/"><img src="../../templates/abbot/img/abbot-avatar-small.png" width="24" alt="Abbot robot logo"></a>
                    <span class="has-text-grey">© A Serious Business, Inc.</span>
                </li>
                <li><a href="https://ab.bot/about/policy/terms">Terms</a></li>
                <li><a href="https://ab.bot/about/policy/privacy">Privacy</a></li>
                <li><a href="/">Help</a></li>
                <li><a href="https://blog.ab.bot">Blog</a></li>
                <li><a href="https://ab.bot/plans">Plans</a></li>
                <li><a href="mailto:support@ab.bot">Contact Us</a></li>
              </ul>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
